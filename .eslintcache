[{"F:\\smart-house\\src\\index.js":"1","F:\\smart-house\\src\\App.js":"2","F:\\smart-house\\src\\redux\\store.js":"3","F:\\smart-house\\src\\components\\Header\\Header.jsx":"4","F:\\smart-house\\src\\components\\Navbar\\Navbar.jsx":"5","F:\\smart-house\\src\\components\\utils\\SetErrorForm.js":"6","F:\\smart-house\\src\\components\\Login\\SignUp.jsx":"7","F:\\smart-house\\src\\components\\Login\\SignIn.jsx":"8","F:\\smart-house\\src\\redux\\selectors\\authSelector.js":"9","F:\\smart-house\\src\\redux\\reducers\\authReducer.js":"10","F:\\smart-house\\src\\redux\\reducers\\projectReducer.js":"11","F:\\smart-house\\src\\redux\\selectors\\projectSelector.js":"12","F:\\smart-house\\src\\components\\utils\\Modal.jsx":"13","F:\\smart-house\\src\\components\\utils\\FormСontrollers.jsx":"14","F:\\smart-house\\src\\components\\utils\\setErrorInThunk.js":"15","F:\\smart-house\\src\\HOC\\withAuthRedirect.jsx":"16","F:\\smart-house\\src\\components\\Content\\Dashboard\\Dashboard.jsx":"17","F:\\smart-house\\src\\components\\Content\\Dashboard\\DashboardItem.jsx":"18","F:\\smart-house\\src\\components\\Content\\Project\\Project.jsx":"19","F:\\smart-house\\src\\redux\\reducers\\deviceReducer.js":"20","F:\\smart-house\\src\\components\\utils\\updateObjectArray.js":"21","F:\\smart-house\\src\\DAL\\authAPI.js":"22","F:\\smart-house\\src\\DAL\\deviceAPI.js":"23","F:\\smart-house\\src\\DAL\\projectAPI.js":"24","F:\\smart-house\\src\\redux\\selectors\\deviceSelector.js":"25","F:\\smart-house\\src\\components\\Content\\Project\\Device.jsx":"26","F:\\smart-house\\src\\components\\Content\\Dashboard\\Pagination.jsx":"27","F:\\smart-house\\src\\components\\Content\\Dashboard\\Forms\\CreateProjectForm.jsx":"28","F:\\smart-house\\src\\components\\Content\\Dashboard\\Forms\\UpdateProjectForm.jsx":"29","F:\\smart-house\\src\\components\\Content\\Project\\Forms\\CreateDeviceForm.jsx":"30","F:\\smart-house\\src\\components\\Content\\Project\\Forms\\UpdateDeviceForm.jsx":"31","F:\\smart-house\\src\\components\\utils\\DeviceFormHelper.js":"32"},{"size":412,"mtime":1612461383508,"results":"33","hashOfConfig":"34"},{"size":1436,"mtime":1614274117916,"results":"35","hashOfConfig":"34"},{"size":706,"mtime":1613670219368,"results":"36","hashOfConfig":"34"},{"size":2015,"mtime":1613227564342,"results":"37","hashOfConfig":"34"},{"size":2782,"mtime":1614271003607,"results":"38","hashOfConfig":"34"},{"size":206,"mtime":1613683143902,"results":"39","hashOfConfig":"34"},{"size":2367,"mtime":1613810868951,"results":"40","hashOfConfig":"34"},{"size":2098,"mtime":1613810864115,"results":"41","hashOfConfig":"34"},{"size":496,"mtime":1612453508794,"results":"42","hashOfConfig":"34"},{"size":1983,"mtime":1614237484604,"results":"43","hashOfConfig":"34"},{"size":5249,"mtime":1614269657967,"results":"44","hashOfConfig":"34"},{"size":625,"mtime":1614171431288,"results":"45","hashOfConfig":"34"},{"size":741,"mtime":1613666508610,"results":"46","hashOfConfig":"34"},{"size":1135,"mtime":1613735155562,"results":"47","hashOfConfig":"34"},{"size":498,"mtime":1613499167186,"results":"48","hashOfConfig":"34"},{"size":700,"mtime":1613283153167,"results":"49","hashOfConfig":"34"},{"size":3097,"mtime":1614253670883,"results":"50","hashOfConfig":"34"},{"size":1800,"mtime":1614350395798,"results":"51","hashOfConfig":"34"},{"size":2045,"mtime":1614350399966,"results":"52","hashOfConfig":"34"},{"size":4220,"mtime":1614326055528,"results":"53","hashOfConfig":"34"},{"size":241,"mtime":1614161950856,"results":"54","hashOfConfig":"34"},{"size":732,"mtime":1613565306333,"results":"55","hashOfConfig":"34"},{"size":1037,"mtime":1614239720008,"results":"56","hashOfConfig":"34"},{"size":1546,"mtime":1613565297453,"results":"57","hashOfConfig":"34"},{"size":420,"mtime":1614239498417,"results":"58","hashOfConfig":"34"},{"size":2491,"mtime":1614350400709,"results":"59","hashOfConfig":"34"},{"size":2946,"mtime":1614271664954,"results":"60","hashOfConfig":"34"},{"size":1696,"mtime":1614237184960,"results":"61","hashOfConfig":"34"},{"size":1636,"mtime":1614237321563,"results":"62","hashOfConfig":"34"},{"size":2326,"mtime":1614335428344,"results":"63","hashOfConfig":"34"},{"size":2085,"mtime":1614258270476,"results":"64","hashOfConfig":"34"},{"size":325,"mtime":1614247499237,"results":"65","hashOfConfig":"34"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"1wu141m",{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"68"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"68"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"68"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"68"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"68"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"68"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"68"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"F:\\smart-house\\src\\index.js",[],["139","140"],"F:\\smart-house\\src\\App.js",[],"F:\\smart-house\\src\\redux\\store.js",[],"F:\\smart-house\\src\\components\\Header\\Header.jsx",[],"F:\\smart-house\\src\\components\\Navbar\\Navbar.jsx",["141","142","143"],"import React, { useEffect } from \"react\";\r\nimport styles from \"../../styles/Navbar.module.css\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport '../../index.css';\r\nimport { connect } from \"react-redux\";\r\nimport { getIsAuth } from \"../../redux/selectors/authSelector\";\r\nimport { logout } from \"../../redux/reducers/authReducer\"\r\nimport { setIconActionCreator } from \"../../redux/reducers/projectReducer\"\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport InfoSharpIcon from '@material-ui/icons/InfoSharp';\r\nimport PersonalVideoIcon from '@material-ui/icons/PersonalVideo';\r\nimport { getIconSelected } from \"../../redux/selectors/projectSelector\";\r\nimport * as queryString from \"query-string\";\r\n\r\nexport const NavbarComponent = ({ isAuth, iconSelected, logout, setIconActionCreator }) => {\r\n\r\n    return (\r\n        <div className={styles.navbar}>\r\n            {isAuth ?\r\n                // Если пользователь зарегистрирован\r\n                <div className={styles.icons}>\r\n                    <NavLink data-title=\"Logout\"\r\n                        className={styles.icon} onClick={() => { logout([\"username\", \"token\"]) }} to=\"#\">\r\n                        <ExitToAppIcon />\r\n                    </NavLink>\r\n                    <NavLink data-title=\"Dashboard\"\r\n                        className={iconSelected === 1 ? styles.icon + \" \" + styles.iconSelected : styles.icon}\r\n                        onClick={() => setIconActionCreator(1)} to=\"/dashboard\">\r\n                        <DashboardIcon />\r\n                    </NavLink>\r\n                </div>\r\n                :\r\n                // Если пользователь не зарегистрирован\r\n                <div className={styles.icons}>\r\n                    <NavLink data-title=\"Info\"\r\n                        className={iconSelected === 1 ? styles.icon + \" \" + styles.iconSelected : styles.icon}\r\n                        onClick={() => setIconActionCreator(1)} to=\"#\">\r\n                        <InfoSharpIcon />\r\n                    </NavLink>\r\n                    <NavLink data-title=\"Tutorial\"\r\n                        className={iconSelected === 2 ? styles.icon + \" \" + styles.iconSelected : styles.icon}\r\n                        onClick={() => setIconActionCreator(2)} to=\"#\">\r\n                        <PersonalVideoIcon />\r\n                    </NavLink>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: getIsAuth(state),\r\n        iconSelected: getIconSelected(state),\r\n    }\r\n};\r\nexport const NavbarContainer = connect(mapStateToProps, {\r\n    logout, setIconActionCreator\r\n})(NavbarComponent);\r\n","F:\\smart-house\\src\\components\\utils\\SetErrorForm.js",[],"F:\\smart-house\\src\\components\\Login\\SignUp.jsx",[],"F:\\smart-house\\src\\components\\Login\\SignIn.jsx",[],"F:\\smart-house\\src\\redux\\selectors\\authSelector.js",[],"F:\\smart-house\\src\\redux\\reducers\\authReducer.js",["144"],"import { authAPI } from \"../../DAL/authAPI\";\r\nimport Cookies from 'js-cookie'\r\nimport { setErrorInThunk } from \"../../components/utils/setErrorInThunk\";\r\n\r\nconst SET_AUTH_USER_DATA = \"SET-AUTH-USER-DATA\";\r\nconst LOGOUT = \"LOGOUT\";\r\n\r\nconst initialState = {\r\n    username: null,\r\n    token: null,\r\n    tokenValidity: null,\r\n    isAuth: false,\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            };\r\n\r\n        case LOGOUT:\r\n            return initialState;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//Action\r\nexport const setAuthUserData = (authData) => {\r\n    return {\r\n        type: \"SET-AUTH-USER-DATA\",\r\n        data: authData,\r\n    };\r\n};\r\n\r\nexport const logoutAction = () => {\r\n    return {\r\n        type: \"LOGOUT\",\r\n    };\r\n};\r\n\r\n//Action Creator\r\n\r\nexport const setCookie = (authData) => {\r\n    return (dispatch) => {\r\n        dispatch(setAuthUserData(authData))\r\n    }\r\n}\r\n\r\nexport const logout = (names) => {\r\n    return (dispatch) => {\r\n        dispatch(logoutAction());\r\n        names.map(\r\n            (name) => {\r\n                Cookies.remove(name);\r\n            }\r\n        );\r\n    }\r\n}\r\n\r\n// Redux-Thunk\r\n\r\nexport const signInThunkCreator = (authData, setError) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await authAPI.signIn(authData);\r\n            dispatch(setAuthUserData({ ...response, isAuth: true }));\r\n        } catch (error) {\r\n            setErrorInThunk(error, setError);\r\n        }\r\n    };\r\n};\r\n\r\nexport const signUpThunkCreator = (authData, setError) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await authAPI.signUp(authData);\r\n            dispatch(setAuthUserData(response));\r\n        } catch (error) {\r\n            setErrorInThunk(error, setError);\r\n        }\r\n\r\n    };\r\n};\r\n\r\n","F:\\smart-house\\src\\redux\\reducers\\projectReducer.js",["145"],"import { setErrorInThunk } from \"../../components/utils/setErrorInThunk\";\r\nimport { updateObjectArray } from \"../../components/utils/updateObjectArray\";\r\nimport { projectAPI } from \"../../DAL/projectAPI\";\r\n\r\nconst SET_PROJECTS = \"SET-PROJECTS\";\r\nconst CREATE_PROJECT = \"CREATE-PROJECT\";\r\nconst UPDATE_PROJECT = \"UPDATE-PROJECT\";\r\nconst SET_ICON = \"SET-ICON\";\r\nconst SET_VIEWED_PROJECT = \"SET-VIEWED-PROJECT\";\r\nconst SET_COUNT_PAGE = \"SET-COUNT-PAGE\";\r\nconst SET_PAGE_PROJECT = \"SET-PAGE-PROJECT\";\r\nconst LOGOUT = \"LOGOUT\";\r\n\r\nconst initialState = {\r\n    page: 1,\r\n    countPage: null,\r\n    projects: [],\r\n    projectViewed: {},\r\n    iconSelected: 1,\r\n};\r\n\r\nexport const projectReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_PROJECTS:\r\n            return {\r\n                ...state,\r\n                projects: action.data,\r\n            };\r\n\r\n        case CREATE_PROJECT:\r\n            return {\r\n                ...state,\r\n                projects: [\r\n                    ...state.projects,\r\n                    action.data,\r\n                ],\r\n            };\r\n\r\n        case UPDATE_PROJECT:\r\n            return {\r\n                ...state,\r\n                projects: updateObjectArray(state.projects, action.data.id, \"id\", action.data)\r\n            };\r\n\r\n        case SET_ICON:\r\n            return {\r\n                ...state,\r\n                iconSelected: action.data,\r\n            };\r\n\r\n        case SET_VIEWED_PROJECT:\r\n            return {\r\n                ...state,\r\n                projectViewed: action.data,\r\n            };\r\n\r\n        case SET_COUNT_PAGE:\r\n            return {\r\n                ...state,\r\n                countPage: action.data,\r\n            };\r\n\r\n        case SET_PAGE_PROJECT:\r\n            return {\r\n                ...state,\r\n                page: action.data,\r\n            };\r\n\r\n        case LOGOUT:\r\n            return initialState;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n// Action\r\n\r\nconst setProjects = (projects) => {\r\n    return {\r\n        type: \"SET-PROJECTS\",\r\n        data: projects,\r\n    };\r\n};\r\n\r\nconst createProject = (project) => {\r\n    return {\r\n        type: \"CREATE-PROJECT\",\r\n        data: project,\r\n    };\r\n};\r\n\r\nconst updateProject = (projects) => {\r\n    return {\r\n        type: \"UPDATE-PROJECT\",\r\n        data: projects,\r\n    };\r\n};\r\n\r\nconst setIcon = (iconSelected) => {\r\n    return {\r\n        type: \"SET-ICON\",\r\n        data: iconSelected,\r\n    };\r\n};\r\n\r\nconst setViewedProject = (project) => {\r\n    return {\r\n        type: \"SET-VIEWED-PROJECT\",\r\n        data: project\r\n    }\r\n}\r\nconst setCountPage = (count) => {\r\n    return {\r\n        type: \"SET-COUNT-PAGE\",\r\n        data: count\r\n    }\r\n}\r\nconst setPage = (page) => {\r\n    return {\r\n        type: \"SET-PAGE-PROJECT\",\r\n        data: page\r\n    }\r\n}\r\n\r\n\r\n// ActionCreator\r\n\r\nexport const setIconActionCreator = (iconSelected) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIcon(iconSelected));\r\n    };\r\n}\r\n\r\nexport const setPageActionCreator = (page) => {\r\n    return async (dispatch) => {\r\n        dispatch(setPage(page));\r\n    };\r\n}\r\n\r\n\r\n// Redux-Thunk\r\n\r\n// Dashboard CRUD\r\n\r\nexport const getProjectPageThunkCreator = (username, token, page) => {\r\n    return async (dispatch) => {\r\n        const response = await projectAPI.getProjectPage(username, token, page);\r\n        dispatch(setProjects(response));\r\n    };\r\n};\r\n\r\nexport const createProjectThunkCreator = (projectForm, token, projectLength, setError) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await projectAPI.createProject(projectForm, token);\r\n            if (projectLength < 10) {\r\n                //10 - максимальное количество проектов на странице\r\n                dispatch(createProject(response))\r\n            }\r\n        } catch (error) {\r\n            setErrorInThunk(error, setError);\r\n        }\r\n    };\r\n};\r\n\r\nexport const updateProjectThunkCreator = (projectForm, token, id, setError) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await projectAPI.updateProject(projectForm, token, id);\r\n            dispatch(updateProject(response))\r\n        } catch (error) {\r\n            setErrorInThunk(error, setError);\r\n        }\r\n    };\r\n};\r\n\r\nexport const deleteProjectThunkCreator = (id, token, username, page) => {\r\n    return async (dispatch) => {\r\n        const response = await projectAPI.deleteProject(id, token);\r\n        dispatch(getProjectPageThunkCreator(username, token, page))\r\n    };\r\n};\r\n\r\n\r\n//Get Project\r\n\r\nexport const getProjectThunkCreator = (id, token) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await projectAPI.getProject(id, token);\r\n            dispatch(setViewedProject(response))\r\n        } catch (error) {\r\n            // 404 PAGE NOT FOUND\r\n        }\r\n    };\r\n};\r\n\r\n\r\n//Get count of Page\r\n\r\nexport const getCountPageThunkCreator = (username, token) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await projectAPI.getCountPage(username, token);\r\n            dispatch(setCountPage(response))\r\n        } catch (error) {\r\n            // 404 PAGE NOT FOUND\r\n        }\r\n    };\r\n};\r\n\r\n","F:\\smart-house\\src\\redux\\selectors\\projectSelector.js",[],"F:\\smart-house\\src\\components\\utils\\Modal.jsx",[],"F:\\smart-house\\src\\components\\utils\\FormСontrollers.jsx",["146"],"import React, { useState } from \"react\";\r\nimport styles from \"../../styles/Form.module.css\";\r\n\r\nexport const Input = ({ register, name, type, placeholder = null, error = null }) => {\r\n    return (\r\n        <div>\r\n            <input className={styles.input}\r\n                ref={register}\r\n                type={type}\r\n                name={name}\r\n                placeholder={placeholder}\r\n            />\r\n            <div className={styles.error}>{error && error.message}</div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport const Textarea = ({ register, name, type, placeholder = null, error = null }) => {\r\n\r\n    // const [state, setState] = useState(value);\r\n\r\n    // const onChange = (e) => {\r\n    //     setState(e.target.value);\r\n    // };\r\n\r\n    return (\r\n        <div>\r\n            <textarea className={styles.textarea}\r\n                ref={register}\r\n                type={type}\r\n                name={name}\r\n                placeholder={placeholder}\r\n            // value={state}\r\n            // onChange={onChange}\r\n            />\r\n            <div className={styles.error}>{error && error.message}</div>\r\n        </div >\r\n    )\r\n}","F:\\smart-house\\src\\components\\utils\\setErrorInThunk.js",[],"F:\\smart-house\\src\\HOC\\withAuthRedirect.jsx",[],"F:\\smart-house\\src\\components\\Content\\Dashboard\\Dashboard.jsx",["147","148"],"import React, { useEffect, useMemo, useState } from \"react\";\r\nimport styles from \"../../../styles/Dashboard.module.css\";\r\nimport {\r\n    createProjectThunkCreator, getProjectPageThunkCreator,\r\n    deleteProjectThunkCreator, updateProjectThunkCreator, getCountPageThunkCreator\r\n} from \"../../../redux/reducers/projectReducer\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserName, getUserToken } from \"../../../redux/selectors/authSelector\";\r\nimport { getActivePage, getProjects } from \"../../../redux/selectors/projectSelector\";\r\nimport { DashboardItem } from \"./DashboardItem\";\r\nimport { Modal } from \"../../utils/Modal\"\r\nimport { withAuthRedirect } from \"../../../HOC/withAuthRedirect\";\r\nimport { CreateProjectForm } from \"./Forms/CreateProjectForm\";\r\nimport { Pagination } from \"./Pagination\";\r\n\r\nexport const Dashboard = (props) => {\r\n    const {\r\n        username, token, page, projects,\r\n        deleteProjectThunkCreator, updateProjectThunkCreator,\r\n        createProjectThunkCreator, getProjectPageThunkCreator,\r\n    } = props;\r\n\r\n    // Состояние модального окна\r\n    const [isCreateProject, setCreateProject] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getProjectPageThunkCreator(username, token, page)\r\n    }, [username, token, page]);\r\n\r\n    return (\r\n\r\n        <div className={styles.dashboard}>\r\n\r\n            <Pagination />\r\n\r\n            {/* Projects */}\r\n            <div className={styles.projects}>\r\n\r\n                {/* Create Project Card */}\r\n                <div onClick={() => setCreateProject(true)} className={styles.project + \" \" + styles.creator}>\r\n                    <div className={styles.name}>Create project</div>\r\n                </div>\r\n\r\n                {projects.map((project) =>\r\n                    <DashboardItem\r\n                        key={project.id}\r\n                        project={project}\r\n                        token={token}\r\n                        page={page}\r\n                        username={username}\r\n                        deleteProjectThunkCreator={deleteProjectThunkCreator}\r\n                        updateProjectThunkCreator={updateProjectThunkCreator}\r\n                    />\r\n                )}\r\n\r\n                <Modal isModal={isCreateProject} setModal={setCreateProject} title=\"Create Project\">\r\n                    <CreateProjectForm\r\n                        createProjectThunkCreator={createProjectThunkCreator}\r\n                        token={token}\r\n                        projectsLength={projects.length}\r\n                    />\r\n                </Modal>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        username: getUserName(state),\r\n        token: getUserToken(state),\r\n        projects: getProjects(state),\r\n        page: getActivePage(state)\r\n    }\r\n};\r\nexport const DashboardContainer = withAuthRedirect(connect(mapStateToProps, {\r\n    getProjectPageThunkCreator,\r\n    createProjectThunkCreator,\r\n    deleteProjectThunkCreator,\r\n    updateProjectThunkCreator,\r\n    getCountPageThunkCreator\r\n})(Dashboard));\r\n\r\n\r\n","F:\\smart-house\\src\\components\\Content\\Dashboard\\DashboardItem.jsx",[],"F:\\smart-house\\src\\components\\Content\\Project\\Project.jsx",["149"],"import React, { useEffect, useState } from \"react\";\r\nimport styles from \"../../../styles/Project.module.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPage, getThings } from \"../../../redux/selectors/deviceSelector\";\r\nimport { getUserToken } from \"../../../redux/selectors/authSelector\";\r\nimport { getThingsPageThunkCreator } from \"../../../redux/reducers/deviceReducer\";\r\nimport { Modal } from \"../../utils/Modal\"\r\nimport { CreateDeviceForm } from \"./Forms/CreateDeviceForm\"\r\nimport { Device } from \"./Device\";\r\nimport { getProjectThunkCreator } from \"../../../redux/reducers/projectReducer\";\r\nimport { getProjectViewed } from \"../../../redux/selectors/projectSelector\";\r\n\r\nexport const Project = withRouter((props) => {\r\n\r\n    let id = props.match.params.projectId;\r\n\r\n    const dispatch = useDispatch()\r\n    const page = useSelector(getPage)\r\n    const token = useSelector(getUserToken)\r\n    const things = useSelector(getThings)\r\n    const project = useSelector(getProjectViewed)\r\n\r\n    useEffect(() => {\r\n        dispatch(getThingsPageThunkCreator(id, page, token))\r\n        dispatch(getProjectThunkCreator(id, token))\r\n    }, [id]);\r\n\r\n    // Состояние модального окна\r\n    const [isCreateDevice, setCreateDevice] = useState(false);\r\n\r\n    return (\r\n        <div className={styles.project}>\r\n            <div className={styles.projectInfo}>\r\n                <div className={styles.name}>{project.name}</div>\r\n                <div className={styles.title}>{project.title}</div>\r\n            </div><hr />\r\n            <div className={styles.things}>{things.map((thing) => {\r\n                return <Device thing={thing} />\r\n            })}</div>\r\n            <button onClick={() => setCreateDevice(true)}>Create</button>\r\n            <Modal isModal={isCreateDevice} setModal={setCreateDevice} title=\"Create Device\">\r\n                <CreateDeviceForm thingsLength={things.length} />\r\n            </Modal>\r\n        </div>\r\n    );\r\n});\r\n\r\n\r\n\r\n","F:\\smart-house\\src\\redux\\reducers\\deviceReducer.js",["150","151"],"import { deviceFormHelper } from \"../../components/utils/DeviceFormHelper\";\r\nimport { setErrorInThunk } from \"../../components/utils/setErrorInThunk\";\r\nimport { updateObjectArray } from \"../../components/utils/updateObjectArray\";\r\nimport { deviceAPI } from \"../../DAL/deviceAPI\";\r\n\r\nconst SET_THINGS = \"SET-THINGS\";\r\nconst CREATE_DEVICE = \"CREATE-DEVICE\";\r\nconst UPDATE_DEVICE = \"UPDATE-DEVICE\";\r\nconst SET_PAGE_DEVICE = \"SET-PAGE-DEVICE\";\r\nconst LOGOUT = \"LOGOUT\";\r\n\r\nconst initialState = {\r\n    things: [],\r\n    page: 1,\r\n};\r\n\r\nexport const deviceReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_THINGS:\r\n            return {\r\n                ...state,\r\n                things: action.data,\r\n            };\r\n\r\n        case CREATE_DEVICE:\r\n            return {\r\n                ...state,\r\n                things: [\r\n                    ...state.things,\r\n                    {\r\n                        \"type\": \"device\",\r\n                        \"entity\": {\r\n                            ...action.data\r\n                        }\r\n                    },\r\n                ],\r\n            };\r\n\r\n        case UPDATE_DEVICE:\r\n            return {\r\n                ...state,\r\n                things: state.things.map((thing) => {\r\n                    switch (thing.type === \"device\") {\r\n                        case thing.entity.id === action.data.id:\r\n                            return { ...thing, ...{ \"entity\": { ...action.data } } }\r\n                        default:\r\n                            return thing;\r\n                    }\r\n                })\r\n            };\r\n\r\n        case SET_PAGE_DEVICE:\r\n            return {\r\n                ...state,\r\n                page: action.data,\r\n            };\r\n\r\n        case LOGOUT:\r\n            return initialState;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n// Action\r\n\r\nconst setThings = (things) => {\r\n    return {\r\n        type: \"SET-THINGS\",\r\n        data: things\r\n    }\r\n}\r\n\r\nconst createDevice = (response) => {\r\n    return {\r\n        type: \"CREATE-DEVICE\",\r\n        data: response\r\n    }\r\n}\r\n\r\nconst updateDevice = (device) => {\r\n    return {\r\n        type: \"UPDATE-DEVICE\",\r\n        data: device\r\n    }\r\n}\r\n\r\nconst setPage = (page) => {\r\n    return {\r\n        type: \"SET-PAGE-DEVICE\",\r\n        data: page\r\n    }\r\n}\r\n\r\n// ActionCreator\r\nexport const setPageActionCreator = (page) => {\r\n    return async (dispatch) => {\r\n        dispatch(setPage(page));\r\n    };\r\n}\r\n// Redux-Thunk\r\n\r\n//Get Things Array\r\n\r\nexport const getThingsPageThunkCreator = (id, page, token) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            //id of project\r\n            const response = await deviceAPI.getThings(id, page, token);\r\n            dispatch(setThings(response))\r\n        } catch (error) {\r\n            // ERROR\r\n        }\r\n    };\r\n};\r\n\r\n\r\n//Device CRUD\r\n\r\nexport const createDeviceThunkCreator = (deviceForm, project, token, thingsLength, setError) => {\r\n    deviceForm = deviceFormHelper(deviceForm, project)\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await deviceAPI.createDevice(deviceForm, token);\r\n            if (thingsLength < 25) {\r\n                //10 - максимальное количество проектов на странице\r\n                dispatch(createDevice(response))\r\n            }\r\n        } catch (error) {\r\n            setErrorInThunk(error, setError);\r\n        }\r\n    };\r\n};\r\n\r\nexport const updateDeviceThunkCreator = (deviceForm, token, project, id, setError) => {\r\n    deviceForm = deviceFormHelper(deviceForm, project)\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await deviceAPI.updateDevice(deviceForm, token, id);\r\n            dispatch(updateDevice(response))\r\n        } catch (error) {\r\n            setErrorInThunk(error, setError);\r\n        }\r\n    };\r\n};\r\n\r\nexport const deleteDeviceThunkCreator = (id, page, project, token) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await deviceAPI.deleteDevice(id, token);\r\n            dispatch(getThingsPageThunkCreator(project, page, token))\r\n        } catch (error) {\r\n            // ERROR\r\n        }\r\n    };\r\n};","F:\\smart-house\\src\\components\\utils\\updateObjectArray.js",[],"F:\\smart-house\\src\\DAL\\authAPI.js",[],"F:\\smart-house\\src\\DAL\\deviceAPI.js",[],"F:\\smart-house\\src\\DAL\\projectAPI.js",[],"F:\\smart-house\\src\\redux\\selectors\\deviceSelector.js",[],"F:\\smart-house\\src\\components\\Content\\Project\\Device.jsx",[],"F:\\smart-house\\src\\components\\Content\\Dashboard\\Pagination.jsx",["152","153","154"],"import React, { useEffect, useState } from \"react\";\r\nimport styles from \"../../../styles/Dashboard.module.css\";\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getActivePage, getCountPage } from \"../../../redux/selectors/projectSelector\";\r\nimport { getUserToken, getUserName } from \"../../../redux/selectors/authSelector\";\r\nimport { getCountPageThunkCreator, setPageActionCreator } from \"../../../redux/reducers/projectReducer\";\r\nimport * as queryString from \"query-string\";\r\n\r\nexport const Pagination = (props) => {\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const countPage = useSelector(getCountPage);\r\n    const username = useSelector(getUserName);\r\n    const token = useSelector(getUserToken);\r\n    const page = useSelector(getActivePage)\r\n\r\n    const pages = [];\r\n    for (let i = 1; i <= countPage; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(countPage / 5);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionNumber = (portionNumber - 1) * 5 + 1;\r\n    const rightPortionNumber = 5 * portionNumber;\r\n\r\n    useEffect(() => {\r\n        dispatch(getCountPageThunkCreator(username, token))\r\n    }, [])// ОБЩЕЕ КОЛВО ПРОЕКТОВ \r\n\r\n    useEffect(() => {\r\n\r\n        const parsed = queryString.parse(history.location.search);\r\n\r\n        let actualPage = page;\r\n\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n\r\n        dispatch(setPageActionCreator(actualPage))\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        const query = {};\r\n\r\n        if (page !== 1) query.page = String(page);\r\n\r\n        history.push({\r\n            pathname: \"/dashboard\",\r\n            search: queryString.stringify(query)\r\n        })\r\n    }, [page])\r\n\r\n    const onPageChanged = (p) => {\r\n        dispatch(setPageActionCreator(p))\r\n    }\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n\r\n            {portionNumber > 1 ?\r\n                <button onClick={() => setPortionNumber(portionNumber - 1)}><ArrowBackIcon /></button>\r\n                :\r\n                <button disabled><ArrowBackIcon /></button>\r\n            }\r\n\r\n            {pages\r\n                .filter((p) => p >= leftPortionNumber && p <= rightPortionNumber)\r\n                .map((p) => {\r\n                    return (\r\n                        <button key={p.toString()} onClick={() => onPageChanged(p)}\r\n                        >{p}</button>\r\n                    );\r\n                })}\r\n\r\n            {portionNumber < portionCount ?\r\n                <button onClick={() => setPortionNumber(portionNumber + 1)}><ArrowForwardIcon /></button>\r\n                :\r\n                <button disabled><ArrowForwardIcon /></button>\r\n            }\r\n\r\n        </div>\r\n    );\r\n};\r\n","F:\\smart-house\\src\\components\\Content\\Dashboard\\Forms\\CreateProjectForm.jsx",[],"F:\\smart-house\\src\\components\\Content\\Dashboard\\Forms\\UpdateProjectForm.jsx",[],"F:\\smart-house\\src\\components\\Content\\Project\\Forms\\CreateDeviceForm.jsx",[],"F:\\smart-house\\src\\components\\Content\\Project\\Forms\\UpdateDeviceForm.jsx",[],"F:\\smart-house\\src\\components\\utils\\DeviceFormHelper.js",[],{"ruleId":"155","replacedBy":"156"},{"ruleId":"157","replacedBy":"158"},{"ruleId":"159","severity":1,"message":"160","line":1,"column":17,"nodeType":"161","messageId":"162","endLine":1,"endColumn":26},{"ruleId":"159","severity":1,"message":"163","line":3,"column":19,"nodeType":"161","messageId":"162","endLine":3,"endColumn":29},{"ruleId":"159","severity":1,"message":"164","line":14,"column":13,"nodeType":"161","messageId":"162","endLine":14,"endColumn":24},{"ruleId":"165","severity":1,"message":"166","line":58,"column":20,"nodeType":"167","messageId":"168","endLine":58,"endColumn":22},{"ruleId":"159","severity":1,"message":"169","line":182,"column":15,"nodeType":"161","messageId":"162","endLine":182,"endColumn":23},{"ruleId":"159","severity":1,"message":"170","line":1,"column":17,"nodeType":"161","messageId":"162","endLine":1,"endColumn":25},{"ruleId":"159","severity":1,"message":"171","line":1,"column":28,"nodeType":"161","messageId":"162","endLine":1,"endColumn":35},{"ruleId":"172","severity":1,"message":"173","line":28,"column":8,"nodeType":"174","endLine":28,"endColumn":31,"suggestions":"175"},{"ruleId":"172","severity":1,"message":"176","line":27,"column":8,"nodeType":"174","endLine":27,"endColumn":12,"suggestions":"177"},{"ruleId":"159","severity":1,"message":"178","line":3,"column":10,"nodeType":"161","messageId":"162","endLine":3,"endColumn":27},{"ruleId":"159","severity":1,"message":"169","line":151,"column":19,"nodeType":"161","messageId":"162","endLine":151,"endColumn":27},{"ruleId":"172","severity":1,"message":"179","line":33,"column":8,"nodeType":"174","endLine":33,"endColumn":10,"suggestions":"180"},{"ruleId":"172","severity":1,"message":"181","line":45,"column":8,"nodeType":"174","endLine":45,"endColumn":10,"suggestions":"182"},{"ruleId":"172","severity":1,"message":"183","line":57,"column":8,"nodeType":"174","endLine":57,"endColumn":14,"suggestions":"184"},"no-native-reassign",["185"],"no-negated-in-lhs",["186"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useHistory' is defined but never used.","'queryString' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'response' is assigned a value but never used.","'useState' is defined but never used.","'useMemo' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getProjectPageThunkCreator'. Either include it or remove the dependency array.","ArrayExpression",["187"],"React Hook useEffect has missing dependencies: 'dispatch', 'page', and 'token'. Either include them or remove the dependency array.",["188"],"'updateObjectArray' is defined but never used.","React Hook useEffect has missing dependencies: 'dispatch', 'token', and 'username'. Either include them or remove the dependency array.",["189"],"React Hook useEffect has missing dependencies: 'dispatch', 'history.location.search', and 'page'. Either include them or remove the dependency array.",["190"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["191"],"no-global-assign","no-unsafe-negation",{"desc":"192","fix":"193"},{"desc":"194","fix":"195"},{"desc":"196","fix":"197"},{"desc":"198","fix":"199"},{"desc":"200","fix":"201"},"Update the dependencies array to be: [username, token, page, getProjectPageThunkCreator]",{"range":"202","text":"203"},"Update the dependencies array to be: [dispatch, id, page, token]",{"range":"204","text":"205"},"Update the dependencies array to be: [dispatch, token, username]",{"range":"206","text":"207"},"Update the dependencies array to be: [dispatch, history.location.search, page]",{"range":"208","text":"209"},"Update the dependencies array to be: [history, page]",{"range":"210","text":"211"},[1238,1261],"[username, token, page, getProjectPageThunkCreator]",[1209,1213],"[dispatch, id, page, token]",[1390,1392],"[dispatch, token, username]",[1674,1676],"[dispatch, history.location.search, page]",[1919,1925],"[history, page]"]